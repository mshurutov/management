Правила использования ansible.
==============================

Понятия ansible.
----------------

`ansible` - это децентрализованная система управления инфраструктурой, которая, с точки зрения программирования - декларативный язык программирования (ВНЕЗАПНО!).<BR>
Минимальный блок кода называется `play`, файл с кодом - `playbook`.

Правила использования.
----------------------

Для унификации и обеспечения контроля за действиями сотрудников необходимо организовать централизованный хост для конфигурирования, на котором необходимо установить `ansible`.

### Организация каталогов.

Настройки инфраструктуры проектов, которые ведёт одна команда, и/или которые являются частями одного ресурса, должны удовлетворять следующим правилам:
* `inventory` должен быть общий; он может быть разбит на части для удобства обслуживания каких-либо подсистем/групп, но только при условии, что это разбиение не мешает использованию полного `inventory`, и из всех частей собирается полный `inventory`;
* структура каталогов `ansible`:
    * Структура общих каталогов (ролей,коллекций):
      ```
      ${PUBLIC_ANSIBLE_ROOT}/collections
      ${PUBLIC_ANSIBLE_ROOT}/etc/inventory
      ${PUBLIC_ANSIBLE_ROOT}/public_collections
      ${PUBLIC_ANSIBLE_ROOT}/public_roles
      ${PUBLIC_ANSIBLE_ROOT}/roles
      ```
      `${ANSIBLE_ROOT}/collections`, `${ANSIBLE_ROOT}/roles` - каталоги для ролей и коллекций, которые созданы внутри компании и не будут публиковаться в общий доступ;
      `${ANSIBLE_ROOT}/public_collections`, `${ANSIBLE_ROOT}/public_roles` - каталоги для внешних ролей, коллекций из [Ansible Galaxy|https://galaxy.ansible.com].
      Помимо этих каталогов, в `${ANSIBLE_ROOT}` должны размещаться каталоги для модулей и библиотек.
    * Структура каталогов настроек проекта(ов):
      `[${root_of_repo}/ansible.cfg]` - локальный конфиг `ansible`, необязательный элемент;
      `[${root_of_repo}/group_vars]` - настройки групп;
      `[${root_of_repo}/host_vars]` - настройки отдельных хостов;
      `[${root_of_repo}/templates]` - шаблоны;
      `[${root_of_repo}/vars]` - переменные;
      ``
###
###
###
###
###
###
###
